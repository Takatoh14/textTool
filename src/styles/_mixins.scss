// ================================
// _mixins.scss
// ä¾¿åˆ©ãƒŸãƒƒã‚¯ã‚¹ã‚¤ãƒ³é›†
// - ä¾å­˜: _variables.scssï¼ˆ$bp-*, ä½™ç™½ãƒ»è‰²ãªã©ï¼‰
// - ã¾ãšã¯ @import ã§ã‚·ãƒ³ãƒ—ãƒ«é‹ç”¨
// ================================
@use 'sass:math';
@import './variables';

// --------------------------------
// ğŸ“± ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªï¼ˆæœ€å°å¹… / æœ€å¤§å¹…ï¼‰
// ä¾‹ï¼‰@include mq($bp-md) { ... } / @include mq-down($bp-md) { ... }
// --------------------------------
@mixin mq($min-width) {
  @media (min-width: $min-width) {
    @content;
  }
}

@mixin mq-down($max-width) {
  @media (max-width: $max-width) {
    @content;
  }
}

// ã‚ˆãä½¿ã†ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼ˆãƒ‡ãƒ•ã‚©å€¤ã« $bp-* ã‚’ä½¿ç”¨ï¼‰
@mixin sm {
  @include mq($bp-sm) {
    @content;
  }
}
@mixin md {
  @include mq($bp-md) {
    @content;
  }
}
@mixin lg {
  @include mq($bp-lg) {
    @content;
  }
}
@mixin xl {
  @include mq($bp-xl) {
    @content;
  }
}

// --------------------------------
/* ğŸ“¦ ã‚³ãƒ³ãƒ†ãƒŠä¸­å¤®å¯„ã›
   ä¾‹ï¼‰.wrap { @include container(); } / @include container(1200px, 2rem); */
// --------------------------------
@mixin container($max: $container-max, $pad: $container-pad) {
  width: min(100% - ($pad * 2), $max);
  margin-inline: auto;
}

// --------------------------------
// ğŸ§® æµä½“ã‚¿ã‚¤ãƒ / æµä½“ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆclampï¼‰
// ä¾‹ï¼‰@include fluid-type(1.4rem, 2vw + 1rem, 2.4rem);
// ä¾‹ï¼‰@include fluid-space(margin-top, 0.8rem, 2vw, 2.4rem);
// --------------------------------
@mixin fluid-type($min, $preferred, $max) {
  font-size: clamp($min, $preferred, $max);
}

@mixin fluid-space($prop, $min, $preferred, $max) {
  #{$prop}: clamp($min, $preferred, $max);
}

// --------------------------------
// ğŸ”² ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”
// ä¾‹ï¼‰.thumb { @include aspect(16, 9); }
// --------------------------------
@mixin aspect($w, $h) {
  aspect-ratio: math.div($w, $h);
}

// --------------------------------
// ğŸ¯ Flex ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç³»
// --------------------------------
@mixin flex-center($gap: 0) {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: $gap;
}

@mixin flex-row($justify: flex-start, $align: stretch, $gap: 0) {
  display: flex;
  flex-direction: row;
  justify-content: $justify;
  align-items: $align;
  gap: $gap;
}

@mixin flex-col($justify: flex-start, $align: stretch, $gap: 0) {
  display: flex;
  flex-direction: column;
  justify-content: $justify;
  align-items: $align;
  gap: $gap;
}

// --------------------------------
// ğŸ”³ Grid ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
// --------------------------------
@mixin grid($cols: 2, $gap: 1.6rem) {
  display: grid;
  grid-template-columns: repeat($cols, 1fr);
  gap: $gap;
}

@mixin grid-auto($minCol: 220px, $gap: 1.6rem) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax($minCol, 1fr));
  gap: $gap;
}

// --------------------------------
// âœ‚ï¸ ãƒ†ã‚­ã‚¹ãƒˆçœç•¥ï¼ˆ1è¡Œ / è¤‡æ•°è¡Œï¼‰
// --------------------------------
@mixin ellipsis-1() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin ellipsis($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// --------------------------------
// ğŸ‘“ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å°‚ç”¨ãƒ†ã‚­ã‚¹ãƒˆ
// --------------------------------
@mixin sr-only() {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

// --------------------------------
// âœ¨ ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼‰
// --------------------------------
@mixin focus-ring($offset: 2px) {
  outline: 2px solid currentColor;
  outline-offset: $offset;
}

// --------------------------------
// ğŸ§± å½±ï¼ˆElevationï¼‰
// ä¾‹ï¼‰@include elevation(2); // 0 ~ 4 ã‚’æƒ³å®š
// --------------------------------
@mixin elevation($level: 1) {
  @if $level == 0 {
    box-shadow: none;
  } @else if $level == 1 {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
  } @else if $level == 2 {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  } @else if $level == 3 {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.14);
  } @else {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.18);
  }
}

// --------------------------------
// ğŸ–±ï¸ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ï¼ˆWebKitï¼‰
// --------------------------------
@mixin scrollbar($size: 8px) {
  &::-webkit-scrollbar {
    width: $size;
    height: $size;
  }
  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
  }
  &::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.25);
    border-radius: 9999px;
  }
}

// --------------------------------
// ğŸ§© ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³
// --------------------------------
@mixin transition($prop: all, $dur: 0.2s, $timing: ease) {
  transition: $prop $dur $timing;
}
